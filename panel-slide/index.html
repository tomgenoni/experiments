<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Panel Slide</title>

    <link rel="stylesheet" href="tui.css">
    <script src="//code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>

    <style>

        html {
            box-sizing: border-box;
            background: #222;
        }

        *, *:before, *:after {
            box-sizing: inherit;
        }

        .panel {
            margin: 100px auto 0;
            width: 300px;
            height: 500px;
            overflow: hidden;
            border-radius: 4px;
        }

        .panel-container {
            display: flex;
            min-height: 100%;
        }

        .panel-container.is-moving-forward,
        .panel-container.is-moving-backward {
            transition: 300ms transform cubic-bezier(0.415, 0.175, 0.125, 1.100);
        }

        .panel-container.is-moving-forward {
            transform: translateX(-100%);
        }

        .panel-container.is-staged-backward {
            transform: translateX(-100%);
        }

        .panel-container.is-moving-backward {
            transform: translateX(0);
        }

        .pane {
            display: none;
            background: #fff;
            position: relative;
            min-width: 100%;
            width: 100%;
            padding: 20px;
        }

        .pane.is-shown {
            display: block;
        }

        .button-bottom {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
        }

    </style>

    <script>

        $(document).ready(function(){
            $('.tp-button').click(function(e) {
                e.preventDefault();

                const way = $(this).data('way');
                const panel = $(this).closest('.panel');
                const currentPane = $(this).closest('.pane');
                const container = panel.find('.panel-container');

                if ( way == "forward") {
                    currentPane.next().addClass('is-shown');
                    container.addClass('is-moving-forward');
                } else {
                    currentPane.prev().addClass('is-shown');
                    container.addClass('is-staged-backward');

                    const containerTransition = setTimeout(function(){
                        container.removeClass('is-staged-backward');
                        container.addClass('is-moving-backward');
                    }, 70);
                }

                setTimeout(function(){
                    currentPane.removeClass('is-shown');
                    container.removeClass('is-moving-forward is-moving-backward');
                }, 300);


            })
        });

    </script>


</head>
<body>

    <div class="panel">
        <div class="panel-container">
            <div class="pane is-shown">
                <h2 class="tp-heading-4 tp-margin-bottom--double">I'm the first pane</h2>
                <p class="tp-margin-bottom--quad">A bunch of content that will go here and will ask a person to do something.</p>
                <button data-way="forward" class="tp-button tp-button--bleed button-bottom">Next</button>
            </div>
            <div class="pane">
                <h2 class="tp-heading-4 tp-margin-bottom--double">I'm the second pane</h2>
                <p class="tp-margin-bottom--quad">More content</p>
                <button data-way="forward" class="tp-button tp-button--bleed button-bottom">Next</button>
                <button data-way="backward" class="tp-button">Back</button>
            </div>
            <div class="pane">
                <h2 class="tp-heading-4 tp-margin-bottom--double">Third</h2>
                <p class="tp-margin-bottom--quad">We are done here.</p>
                <button data-way="backward" class="tp-button">Back</button>
            </div>
        </div>
    </div>

</body>
</html>
