<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Brand Refresh</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">


</head>
<body>

    <ul id="color-palette"></ul>


    <table>
        <thead>
            <tr>
                <th>Old &amp; Deprecated</th>
                <th></th>
                <th>New</th>
            </tr>
        </thead>
        <tbody id="color-mapping">
        </tbody>
    </table>


    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" type="text/javascript"></script>

    <script id="color-palette-template" type="text/x-handlebars-template">
        {{#each this}}
            <li class="{{#if extended}}extended{{/if}}">
                <div class="wrap">
                    <div class="sass">{{sass.new}}</div>
                    <div class="js">{{js.new}}</div>
                    <div class="hex">{{hex.new}}</div>
                    <div class="swatch" style="background-color: {{hex.new}};"></div>
                </div>
            </li>
        {{/each}}
    </script>

    <script id="color-mapping-template" type="text/x-handlebars-template">
        {{#each this}}
            {{#if sass.old}}
                <tr>
                    <td>
                        <ul class="entries">
                            {{#each sass.old}}
                                <li>
                                    <div class="sass">{{this}}</div>
                                    <div class="js">{{this}}</div>
                                    <div class="hex">{{../hex.old}}</div>
                                    <div class="swatch" style="background-color: {{../hex.old}};"></div>
                                </li>
                            {{/each}}
                        </ul>
                    </td>
                    <td>
                        <div class="arrow"></div>
                    </td>
                    <td>
                        <ul class="entries">
                            <li>
                                <div class="sass">{{sass.new}}</div>
                                <div class="js">{{js.new}}</div>
                                <div class="hex">{{hex.new}}</div>
                                <div class="swatch" style="background-color: {{hex.new}};"></div>
                            </li>
                        </ul>
                    </td>
                </tr>
            {{/if}}
        {{/each}}
    </script>





    <script>

        function qs(i){
            return document.querySelector(i);
        }

        var colorPaletteTemplate = qs('#color-palette-template');
        var colorPalette = qs('#color-palette');

        var colorMappingTemplate = qs('#color-mapping-template');
        var colorMapping = qs('#color-mapping');

        function render(data) {
            var template = Handlebars.compile(colorPaletteTemplate.textContent);
            var html = template(data);
            colorPalette.innerHTML = html;

            var template = Handlebars.compile(colorMappingTemplate.textContent);
            var html = template(data);
            colorMapping.innerHTML = html;

        }

        function fetchData() {
            var url = 'js/color.json';
            $.getJSON(url, render);
        }

        fetchData();

    </script>

</body>
</html>
