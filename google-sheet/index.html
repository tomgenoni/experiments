<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Status</title>

    <!-- Load jQuery and Sheetrock from CDNJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sheetrock/1.1.4/dist/sheetrock.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>


    <style>


    @font-face {
        font-family: 'Mark';
        font-weight: 400;
        src: url(https://fonts.thumbtack.com/mark/mark-tt.woff2) format('woff2'),
        url(https://fonts.thumbtack.com/mark/mark-tt.woff) format('woff');
    }

    @font-face {
        font-family: 'Mark';
        font-weight: 700;
        src: url(https://fonts.thumbtack.com/mark/mark-tt-bold.woff2) format('woff2'),
        url(https://fonts.thumbtack.com/mark/mark-tt-bold.woff) format('woff');
    }

    body {
        margin: 50px;
        font-family: Mark;
        line-height: 1.6;
    }

    table {
        border-collapse: collapse;
        font-size: 14px;
    }

    tr {
        border-bottom: 1px solid #eee;
    }

    td {
        padding: 20px 10px;
    }

    tr:first-child td {
        font-weight: 700;
        color: #000;
    }

    .narrow {
        width: 100px;
        text-align: center;
    }

    .quarter {
        padding-top: 50px;
        font-weight: 700;
    }

    .muted {
        color: #999;
    }

    .is-done:after,
    .is-progress:after {
        content: "";
        display: block;
        width: 16px;
        height: 16px;
        background: #2db783;
        text-align: center;
        margin-left: auto;
        margin-right: auto;
        border-radius: 50%;
    }

    .is-progress:after {
        border: 4px solid #febe14;
        background: #fff;
        width: 12px;
        height: 12px;
    }

    .is-done span,
    .is-progress span {
        display: none;
    }


    </style>

</head>
<body>

    <h2>Release Schedule</h2>

    <table id="status">
        <script id="StatusTemplate" type="text/x-handlebars-template">
            <tr>
                <td>
                    <div>{{cells.Component}}</div>
                </td>
                <td class="narrow
                    {{#ifCond cells.Designed '==' "X"}}is-done{{/ifCond}}
                    {{#ifCond cells.Designed '==' "#"}}is-progress{{/ifCond}}
                    ">
                    <span>{{cells.Designed}}</span>
                </td>
                <td class="narrow
                    {{#ifCond cells.Built '==' "X"}}is-done{{/ifCond}}
                    {{#ifCond cells.Built '==' "#"}}is-progress{{/ifCond}}
                    ">
                    <span>{{cells.Built}}</span>
                </td>
                <td class="narrow
                    {{#ifCond cells.Docs '==' "X"}}is-done{{/ifCond}}
                    {{#ifCond cells.Docs '==' "#"}}is-progress{{/ifCond}}
                    ">
                    <span>{{cells.Docs}}</span>
                </td>
                <td class="narrow
                    {{#ifCond cells.Published '==' "X"}}is-done{{/ifCond}}
                    {{#ifCond cells.Published '==' "#"}}is-progress{{/ifCond}}
                    ">
                    <span>{{cells.Published}}</span>
                </td>
            </tr>
        </script>
    </table>

    <script>

        Handlebars.registerHelper('ifCond', function (v1, operator, v2, options) {

            switch (operator) {
                case '==':
                    return (v1 == v2) ? options.fn(this) : options.inverse(this);
                default:
                    return options.inverse(this);
            }
        });

        var mySpreadsheet = 'https://docs.google.com/spreadsheets/d/1j0JCMK06S4fX5uKyEz9uLEdZxm6WaWQJQNA3KM9G9L4/edit#gid=0';
        var StatusTemplate = Handlebars.compile($('#StatusTemplate').html());

        // Load top ten switch hitters.
        $('#status').sheetrock({
            url: mySpreadsheet,
            rowTemplate: StatusTemplate
        });

    </script>

</body>
</html>
